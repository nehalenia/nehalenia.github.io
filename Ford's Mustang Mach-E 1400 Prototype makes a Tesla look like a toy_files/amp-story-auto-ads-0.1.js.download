;
(self.AMP=self.AMP||[]).push({m:0,v:"2210010655000",n:"amp-story-auto-ads",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function i(t,i){if(t){if("string"==typeof t)return n(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,i):void 0}}function r(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=i(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e;function a(){return e||(e=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))};function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,n){if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=h(t);if(n){var e=h(this).constructor;i=Reflect.construct(r,arguments,e)}else i=r.apply(this,arguments);return l(this,i)}}function p(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var v="ini-load";function m(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function d(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){p(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var y=Array.isArray;function b(t,n){for(var i=0;i<t.length;i++)if(n(t[i],i,t))return i;return-1}var g=Object.prototype,S=g.hasOwnProperty,A=g.toString;function T(t){return"[object Object]"===A.call(t)}function O(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function E(t,n){return S.call(t,n)}function w(t,n,i,r,e,a,o,s,u,h,c){return t}function _(t){return JSON.parse(t)}function x(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(i)||i<0)throw new Error("Invalid depth: "+i);if(t===n)return!0;for(var r=[{a:t,b:n,depth:i}];r.length>0;){var e=r.shift(),a=e.a,o=e.b,s=e.depth;if(s>0){if(c(a)!==c(o))return!1;if(y(a)&&y(o)){if(a.length!==o.length)return!1;for(var u=0;u<a.length;u++)r.push({a:a[u],b:o[u],depth:s-1});continue}if(a&&o&&"object"===c(a)&&"object"===c(o)){var h=Object.keys(a),l=Object.keys(o);if(h.length!==l.length)return!1;for(var f=0,p=h;f<p.length;f++){var v=p[f];r.push({a:a[v],b:o[v],depth:s-1})}continue}}if(a!==o)return!1}return!0}var N=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function I(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function k(t){var n,i=O();if(!t)return i;for(;n=N.exec(t);){var r=I(n[1],n[1]),e=n[2]?I(n[2].replace(/\+/g," "),n[2]):"";i[r]=e}return i}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var R=self.__AMP_LOG;function j(t,n){throw new Error("failed to call initLogConstructor")}function P(t){return R.user||(R.user=D()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(R.user.win,t)?R.userForEmbed||(R.userForEmbed=D()):R.user}function D(t){return j()}function C(){return R.dev||(R.dev=j())}function M(t,n,i,r,e,a,o,s,u,h,c){return t}function L(t,n,i,r,e,a,o,s,u,h,c){return P().assert(t,n,i,r,e,a,o,s,u,h,c)}function U(t){return(t.ownerDocument||t).defaultView}function z(t,n){return K(t=V(t),n)}function B(t,n){return Z(t,n)}function G(t,n){return K(Y(W(t)),n)}function H(t,n){return F(Y(t),n)}function J(t,n){return Z(Y(t),n)}function V(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function W(t){return t.nodeType?(n=U(t),z(n,"ampdoc")).getAmpDoc(t):t;var n}function Y(t){var n=W(t);return n.isSingleDoc()?n.win:n}function K(t,n){M($(t,n));var i=q(t)[n];return i.obj||(M(i.ctor),M(i.context),i.obj=new i.ctor(i.context),M(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function X(t,n,i,r,e,a){var o=q(t),s=o[i];s||(s=o[i]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:a||!1}),!e&&s.ctor||(s.ctor=r,s.context=n,s.sharedInstance=a||!1,s.resolve&&K(t,i))}function F(t,n){var i=Z(t,n);if(i)return i;var r,e,a,s,u=q(t);return u[n]=(e=(r=new o).promise,a=r.reject,s=r.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:s,reject:a,context:null,ctor:null}),u[n].promise}function Z(t,n){var i=q(t)[n];return i?i.promise?i.promise:(K(t,n),i.promise=Promise.resolve(i.obj)):null}function q(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function $(t,n){var i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}var Q="EXPERIMENTS",tt="amp-experiment-toggles",nt="__AMP__EXPERIMENT_TOGGLES";function it(t,n){return!!rt(t)[n]}function rt(t){var n,i,e,a,o;if(t[nt])return t[nt];t[nt]=O();var s=t[nt];w(s);var u=d(d({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:_((null===(e=t.__AMP_EXP)||void 0===e?void 0:e.textContent)||"{}"));for(var h in u){var c=u[h];"number"==typeof c&&c>=0&&c<=1&&(s[h]=Math.random()<c)}var l=null===(a=t.AMP_CONFIG)||void 0===a?void 0:a["allow-doc-opt-in"];if(y(l)&&l.length){var f=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(f)for(var p,v,m=r((null===(p=f.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(v=m()).done;){var b=v.value;l.includes(b)&&(s[b]=!0)}}Object.assign(s,et(t));var g=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(y(g)&&g.length)for(var S,A=k(t.location.originalHash||t.location.hash),T=r(g,!0);!(S=T()).done;){var E=S.value,x=A["e-".concat(E)];"1"==x&&(s[E]=!0),"0"==x&&(s[E]=!1)}return s}function et(t){var n,i="";try{var e;"localStorage"in t&&(i=null!==(e=t.localStorage.getItem(tt))&&void 0!==e?e:"")}catch(t){C().warn(Q,"Failed to retrieve experiments from localStorage.")}for(var a,o=(null===(n=i)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],s=O(),u=r(o,!0);!(a=u()).done;){var h=a.value;h&&("-"==h[0]?s[h.substr(1)]=!1:s[h]=!0)}return s}function at(t,n){return t.__AMP_EXPERIMENT_BRANCHES?t.__AMP_EXPERIMENT_BRANCHES[n]:null}var ot="story-ad-placements",st="31060567",ut="31060568",ht="31060817",ct="31060569",lt="story-ad-auto-advance",ft="31067116",pt="31067118",vt="31067119",mt=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function dt(t,n,i,r,e){return e||(n?"�":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function yt(t,n){return w(/^[\w-]+$/.test(n)),t.querySelector(n)}function bt(t,n,i){return function(t,n){for(var i in n)t.setAttribute(i,n[i]);return t}(t.createElement(n),i)}function gt(t){var n;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(n=t.getAttribute("type"))||void 0===n?void 0:n.toUpperCase())}function St(t,n,i){var r=t.hasAttribute(n),e=void 0!==i?i:!r;return e!==r&&(e?t.setAttribute(n,""):t.removeAttribute(n)),e}function At(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)(?:\?ssr-css=[0|1])?$/i),i=n?n[2]:void 0,r=n?n[3]:void 0;return i&&r?{extensionId:i,extensionVersion:r}:null}var Tt=function(t){return function(t,n,i,r){var e=J(t,n);if(e)return e;var a=W(t);return a.whenExtensionsKnown().then((function(){var t=a.getExtensionVersion(i);return t?z(a.win,"extensions").waitForExtension(i,t):null})).then((function(i){return i?H(t,n):null}))}(t,"amp-analytics-instrumentation","amp-analytics")},Ot=function(t){return z(t,"extensions")},Et=function(t){return G(t,"viewer")},wt=function(){function t(){this.ti=null}var n=t.prototype;return n.add=function(t){var n=this;return this.ti||(this.ti=[]),this.ti.push(t),function(){n.remove(t)}},n.remove=function(t){var n,i,r;this.ti&&(i=t,-1!=(r=(n=this.ti).indexOf(i))&&n.splice(r,1))},n.removeAll=function(){this.ti&&(this.ti.length=0)},n.fire=function(t){if(this.ti)for(var n,i=r(this.ti.slice(),!0);!(n=i()).done;)(0,n.value)(t)},n.getHandlerCount=function(){var t,n;return null!==(t=null===(n=this.ti)||void 0===n?void 0:n.length)&&void 0!==t?t:0},t}(),_t="default",xt=/\w+/gi;function Nt(t,n,i){for(var e,a=r(n,!0);!(e=a()).done;){var o,s=null===(o=t[e.value])||void 0===o?void 0:o[i];if(null!=s)return s.string||s}return null}var It,kt=function(){function t(t){this.Gn=t,this.XA=Et(t).getParam("lang"),this.qA={},this.ZA=new wt}var n=t.prototype;return n.getLanguageCodesForElement=function(t){var n=function(t,n,i){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(n(r))return r;return null}(t,(function(t){return t.hasAttribute("lang")})),i=function(t){if(!t)return["en",_t];var n=t.match(xt)||[];return n.reduce((function(t,i,r){var e=n.slice(0,r+1).join("-").toLowerCase();return t.unshift(e),t}),[_t])}((n?n.getAttribute("lang"):null)||"");return this.XA&&i.unshift(this.XA),i},n.registerLocalizedStringBundles=function(t){var n=this;Object.keys(t).forEach((function(i){var r=i.toLowerCase();n.qA[r]||(n.qA[r]={}),Object.assign(n.qA[r],t[i])})),this.ZA.fire()},n.getLocalizedString=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Gn,i=this.getLanguageCodesForElement(n);return Nt(this.qA,i,t)},n.getLocalizedStringAsync=function(t){var n=this,i=this.getLanguageCodesForElement(this.Gn),r=Nt(this.qA,i,t);return null!==r?Promise.resolve(r):new Promise((function(r){var e=n.ZA.add((function(){var a=Nt(n.qA,i,t);a&&(e(),r(a))}))}))},t}(),Rt=JSON.parse('{"39":"الاشتراك الآن","40":"حجز","41":"شراء التذاكر","42":"تنزيل","43":"استكشاف","44":"تنزيل المحتوى الآن","45":"تثبيت الآن","46":"مزيد من المعلومات","47":"استماع","48":"المزيد","49":"فتح التطبيق","50":"إرسال طلب الآن","51":"تشغيل","52":"قراءة","53":"تسوق","54":"عرض","55":"مواعيد العرض","56":"اشتراك","57":"الاشتراك الآن","58":"استخدام التطبيق","59":"عرض","60":"المشاهدة","61":"مشاهدة الحلقة"}'),jt=JSON.parse('{"39":"Jetzt bewerben","40":"Reservieren","41":"Tickets kaufen","42":"Herunterladen","43":"Erkunden","44":"Jetzt herunterladen","45":"Jetzt installieren","46":"Weitere Informationen","47":"Anhören","48":"Mehr","49":"App öffnen","50":"Jetzt bestellen","51":"Abspielen","52":"Lesen","53":"Einkaufen","54":"Anzeigen","55":"Vorführungszeiten","56":"Anmelden","57":"Jetzt abonnieren","58":"Zur App","59":"Ansehen","60":"Ansehen","61":"Folge ansehen"}'),Pt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Performance times","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Dt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Showtimes","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Ct=JSON.parse('{"39":"Enviar solicitud ahora","40":"Reservar","41":"Comprar entradas","42":"Descargar","43":"Explorar","44":"Obtener ahora","45":"Instalar ahora","46":"Más información","47":"Escuchar","48":"Más","49":"Abrir app","50":"Pedir ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Horarios","56":"Registrarse","57":"Suscribirse ahora","58":"Usar app","59":"Ver","60":"Mirar","61":"Mirar episodio"}'),Mt=JSON.parse('{"39":"Solicítalo ahora","40":"Reserva","41":"Compra entradas","42":"Descargar","43":"Consultar","44":"Descargar ahora","45":"Instalar ahora","46":"Consulta más información","47":"Escuchar","48":"Más","49":"Abrir la aplicación","50":"Haz el pedido ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Consulta los horarios","56":"Regístrate","57":"Suscríbete ahora","58":"Usa la aplicación","59":"Ver","60":"Visualízalo","61":"Ver episodio"}'),Lt=JSON.parse('{"39":"Inscrivez-vous dès maintenant","40":"Réserver","41":"Acheter des billets","42":"Télécharger","43":"Découvrir","44":"Obtenir","45":"Installer","46":"En savoir plus","47":"Écouter","48":"Plus","49":"Ouvrir l\'application","50":"Commander","51":"Lire","52":"Lire","53":"Acheter","54":"Afficher","55":"Horaires des séances","56":"S\'inscrire","57":"S\'abonner","58":"Utiliser l\'application","59":"Afficher","60":"Regarder","61":"Regarder l\'épisode"}'),Ut=JSON.parse('{"39":"अभी आवेदन करें","40":"बुक करें","41":"टिकट खरीदें","42":"डाउनलोड करें","43":"और जानें","44":"अभी पाएं","45":"अभी इंस्टॉल करें","46":"ज़्यादा जानें","47":"सुनें","48":"दूसरी सामग्री","49":"ऐप्लिकेशन खोलें","50":"अभी ऑर्डर करें","51":"चलाएं","52":"पढ़ें","53":"खरीदारी करें","54":"दिखाएं","55":"शो का समय","56":"साइन अप करें","57":"अभी सदस्य बनें","58":"ऐप्लिकेशन इस्तेमाल करें","59":"देखें","60":"देखें","61":"एपिसोड देखें"}'),zt=JSON.parse('{"39":"Daftarkan Sekarang","40":"Reservasi","41":"Beli Tiket","42":"Download","43":"Jelajahi","44":"Dapatkan Sekarang","45":"Instal Sekarang","46":"Pelajari Lebih Lanjut","47":"Dengarkan","48":"Lainnya","49":"Buka Aplikasi","50":"Pesan Sekarang","51":"Putar","52":"Baca","53":"Beli","54":"Tampilkan","55":"Jam Tayang","56":"Daftar","57":"Berlangganan Sekarang","58":"Gunakan Aplikasi","59":"Lihat","60":"Tonton","61":"Tonton Episode"}'),Bt=JSON.parse('{"39":"Richiedi ora","40":"Prenota","41":"Acquista biglietti","42":"Scarica","43":"Esplora","44":"Scarica ora","45":"Installa ora","46":"Ulteriori informazioni","47":"Ascolta","48":"Altro","49":"Apri app","50":"Ordina ora","51":"Riproduci","52":"Leggi","53":"Acquista","54":"Mostra","55":"Orari di programmazione","56":"Registrati","57":"Abbonati ora","58":"Usa app","59":"Visualizza","60":"Guarda","61":"Guarda la puntata"}'),Gt=JSON.parse('{"39":"今すぐお申し込み","40":"予約","41":"チケットを購入","42":"ダウンロード","43":"探す","44":"今すぐ入手","45":"今すぐインストール","46":"詳細","47":"聴く","48":"もっと見る","49":"アプリを開く","50":"今すぐ注文","51":"再生","52":"読む","53":"購入","54":"表示","55":"上映時間","56":"登録","57":"今すぐ登録","58":"アプリを使用","59":"表示","60":"見る","61":"エピソードを見る"}'),Ht=JSON.parse('{"39":"신청하기","40":"예약","41":"티켓 구매","42":"다운로드","43":"탐색","44":"받기","45":"지금 설치","46":"자세히 알아보기","47":"듣기","48":"더보기","49":"앱 열기","50":"지금 주문","51":"재생","52":"읽기","53":"쇼핑하기","54":"표시","55":"상영일정","56":"가입","57":"지금 구독","58":"앱 사용","59":"보기","60":"보기","61":"에피소드 보기"}'),Jt=JSON.parse('{"39":"Nu toepassen","40":"Boeken","41":"Kaartjes kopen","42":"Downloaden","43":"Verkennen","44":"Nu ophalen","45":"Nu installeren","46":"Meer informatie","47":"Luisteren","48":"Meer","49":"App openen","50":"Nu bestellen","51":"Afspelen","52":"Lezen","53":"Winkelen","54":"Weergeven","55":"Aanvangstijden","56":"Aanmelden","57":"Nu abonneren","58":"App gebruiken","59":"Bekijken","60":"Bekijken","61":"Aflevering bekijken"}'),Vt=JSON.parse('{"39":"Søk nå","40":"Bestill","41":"Kjøp billetter","42":"Last ned","43":"Utforsk","44":"Skaff deg nå","45":"Installer nå","46":"Finn ut mer","47":"Lytt","48":"Mer","49":"Åpne appen","50":"Bestill nå","51":"Spill av","52":"Les","53":"Kjøp","54":"Vis","55":"Kinotider","56":"Registrer deg","57":"Abonner nå","58":"Bruk app","59":"Se","60":"Se","61":"Se episoden"}'),Wt=JSON.parse('{"39":"Inscreva-se agora","40":"Agendar","41":"Comprar ingressos","42":"Download","43":"Descobrir","44":"Adquirir agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir app","50":"Comprar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Horários de exibição","56":"Inscreva-se","57":"Assinar","58":"Usar app","59":"Ver","60":"Assistir","61":"Assistir episódio"}'),Yt=JSON.parse('{"39":"Candidate-se agora","40":"Reservar","41":"Comprar bilhetes","42":"Transferir","43":"Explorar","44":"Obter agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir aplicação","50":"Encomendar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Sessões","56":"Inscrever-se","57":"Subscrever agora","58":"Utilizar aplicação","59":"Ver","60":"Ver","61":"Ver episódio"}'),Kt=JSON.parse('{"39":"Подать заявку","40":"Забронировать","41":"Купить билеты","42":"Скачать","43":"Изучить","44":"Скачать","45":"Установить","46":"Подробнее","47":"Слушать","48":"Ещё","49":"Открыть приложение","50":"Заказать","51":"Воспроизвести","52":"Читать","53":"Купить","54":"Показать","55":"Время сеансов","56":"Зарегистрироваться","57":"Подписаться","58":"Использовать приложение","59":"Смотреть","60":"Смотреть","61":"Смотреть серию"}'),Xt=JSON.parse('{"39":"Hemen Başvur","40":"Kitap","41":"Bilet Satın Al","42":"İndir","43":"Keşfet","44":"Hemen Al","45":"Şimdi Yükle","46":"Daha Fazla Bilgi","47":"Dinle","48":"Diğer","49":"Uygulamayı Aç","50":"Şimdi Sipariş Et","51":"Oynat","52":"Oku","53":"Satın al","54":"Göster","55":"Gösterim zamanları","56":"Kaydol","57":"Şimdi Abone Ol","58":"Uygulama Kullan","59":"Göster","60":"İzle","61":"Bölümü İzle"}'),Ft=JSON.parse('{"39":"Đăng ký ngay bây giờ","40":"Sách","41":"Mua Vé","42":"Tải xuống","43":"Khám phá","44":"Nhận ngay","45":"Cài đặt ngay","46":"Tìm hiểu thêm","47":"Nghe","48":"Thêm","49":"Mở ứng dụng","50":"Đặt hàng ngay bây giờ","51":"Phát","52":"Đọc","53":"Mua sắm","54":"Hiển thị","55":"Thời gian chiếu","56":"Đăng ký","57":"Đăng ký ngay","58":"Sử dụng ứng dụng","59":"Xem","60":"Xem","61":"Xem tập"}'),Zt=JSON.parse('{"39":"立即申请","40":"预订","41":"买票","42":"下载","43":"探索","44":"立即获取","45":"立即安装","46":"了解详情","47":"收听","48":"更多","49":"打开应用","50":"立即订购","51":"播放","52":"阅读","53":"选购","54":"显示","55":"放映时间","56":"注册","57":"立即订阅","58":"使用应用","59":"查看","60":"观看","61":"观看剧集"}'),qt=JSON.parse('{"39":"立即申請","40":"預訂","41":"買票","42":"下載","43":"探索","44":"立即取得","45":"立即安裝","46":"瞭解詳情","47":"聆聽","48":"顯示更多","49":"開啟應用程式","50":"立刻訂購","51":"播放","52":"閱讀","53":"購物","54":"顯示","55":"放映時間","56":"註冊","57":"立即訂閱","58":"使用應用程式","59":"查看","60":"觀看","61":"觀看劇集"}'),$t={APPLY_NOW:"39",BOOK_NOW:"40",BUY_TICKETS:"41",DOWNLOAD:"42",EXPLORE:"43",GET_NOW:"44",INSTALL:"45",LEARN_MORE:"46",LISTEN:"47",MORE:"48",OPEN_APP:"49",ORDER_NOW:"50",PLAY:"51",READ:"52",SHOP:"53",SHOW:"54",SHOWTIMES:"55",SIGN_UP:"56",SUBSCRIBE:"57",USE_APP:"58",VIEW:"59",WATCH:"60",WATCH_EPISODE:"61"},Qt=function(){function t(t){this.Mat=t,this.qB=null}var n=t.prototype;return n.getLocalizedString=function(t){return this.qB||this.Cs(),this.qB.getLocalizedString(t)},n.Cs=function(){var t,n,i,r;this.qB=(t=this.Mat,(r=function(t){return n="localization",$(i=Y(W(t)),n)?K(i,n):null;var n,i}(t))||(r=new kt(t),"localization",n=function(){return r},X(Y(i=W(t)),i,"localization",n)),r);var e,a,o,s=(a=function(t){return"[".concat(t," one two]")},o=function(t){return _(JSON.stringify(t))}(e=Dt),Object.keys(o).forEach((function(t){var n=t,i=e[n];o[n]=a(i.string||i)})),o);this.qB.registerLocalizedStringBundles({"default":Dt,"ar":Rt,"de":jt,"en":Dt,"en-GB":Pt,"es":Mt,"es-419":Ct,"fr":Lt,"hi":Ut,"id":zt,"it":Bt,"ja":Gt,"ko":Ht,"nl":Jt,"no":Vt,"pt-PT":Yt,"pt-BR":Wt,"ru":Kt,"tr":Xt,"vi":Ft,"zh-cn":Zt,"zh-TW":qt,"en-xa":s})},t}(),tn="story-ad-analytics",nn="adIndex",rn=function(){function t(t){this.t=t.win,this.Hat={}}var n=t.prototype;return n.fireEvent=function(t,n,i,r){this.Vat(n),Object.assign(this.Hat[n],r),function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Tt(t).then((function(e){e&&e.triggerEventForTarget(t,n,i,r)}))}(t,i,this.Hat[n])},n.setVar=function(t,n,i){this.Vat(t),this.Hat[t][n]=i},n.Vat=function(t){var n,i,r;this.Hat[t]||(this.Hat[t]=(p(n={},nn,t),p(n,"adUniqueId",(r=function(t,n){var i=t.crypto;if(!(i=i||t.msCrypto)||!i.getRandomValues)return null;var r=new Uint8Array(16);return i.getRandomValues(r),r}(i=this.t))?r.join(""):String(i.location.href+Date.now()+i.Math.random()+i.screen.width+i.screen.height)),n))},t}(),en=["Webkit","webkit","Moz","moz","ms","O","o"];function an(t,n,i,r,e){var a=function(t,n,i){if(n.startsWith("--"))return n;It||(It=O());var r=It[n];if(!r||i){if(r=n,void 0===t[n]){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),a=function(t,n){for(var i=0;i<en.length;i++){var r=en[i]+n;if(void 0!==t[r])return r}return""}(t,e);void 0!==t[a]&&(r=a)}i||(It[n]=r)}return r}(t.style,n,e);if(a){var o,s=r?i+r:i;t.style.setProperty((o=a.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),en.some((function(t){return o.startsWith(t+"-")}))?"-".concat(o):o),s)}}function on(t){return"".concat(t,"px")}var sn,un,hn=function(){function t(t){var n=this;this.wh=G(t,"mutator"),this.tp=t.win.document,this.bg=this.tp.createElement("div"),this.wh.mutateElement(this.bg,(function(){n.tp.body.appendChild(n.bg),function(t,n){for(var i in n)an(t,i,n[i])}(n.bg,{position:"absolute",top:0,left:0,zIndex:1,visibility:"hidden","font-weight":"bold","letter-spacing":"0.2px"})}))}var n=t.prototype;return n.fit=function(t,n,i){var r=this,e=!1;return this.wh.mutateElement(n,(function(){r.bg.textContent=i;var a=function(t,n,i,r,e){for(var a=14;a>=12;a--){an(t,"fontSize",on(a));var o=t.offsetHeight,s=t.offsetWidth;if(o<32&&s<i)return a}return 11}(r.bg,0,r.yg(t));a>=12&&(r.wg(n,a),e=!0)})).then((function(){return e}))},n.yg=function(t){return t.offsetWidth-84},n.wg=function(t,n){an(t,"fontSize",on(n))},t}();function cn(t){if(void 0!==un)return un;un=!1;try{var n={get passive(){return un=!0,!1}};t.addEventListener("test-options",null,n),t.removeEventListener("test-options",null,n)}catch(t){}return un}function ln(t,n,i,r){var e={detail:i};if(Object.assign(e,r),"function"==typeof t.CustomEvent)return new t.CustomEvent(n,e);var a=t.document.createEvent("CustomEvent");return a.initCustomEvent(n,!!e.bubbles,!!e.cancelable,i),a}var fn,pn,vn=function(){function t(t){this.G=t,this.K=0,this.Y=0,this.rr=O()}var n=t.prototype;return n.has=function(t){return!!this.rr[t]},n.get=function(t){var n=this.rr[t];if(n)return n.access=++this.Y,n.payload},n.put=function(t,n){this.has(t)||this.K++,this.rr[t]={payload:n,access:this.Y},this.nr()},n.nr=function(){if(!(this.K<=this.G)){var t,n=this.rr,i=this.Y+1;for(var r in n){var e=n[r].access;e<i&&(i=e,t=r)}void 0!==t&&(delete n[t],this.K--)}},t}(),mn=(new Set(["c","v","a","ad"]),function(t){return"string"==typeof t?function(t,n){return fn||(fn=self.document.createElement("a"),pn=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new vn(100))),function(t,n,i){if(i&&i.has(n))return i.get(n);t.href=n,t.protocol||(t.href=t.href);var r,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=r;var a=e;return i&&i.put(n,a),a}(fn,t,pn)}(t):t});function dn(t){return"https:"==(t=mn(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(i=".localhost",(r=(n=t.hostname).length-i.length)>=0&&n.indexOf(i,r)==r);var n,i,r}function yn(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return L(null!=t,"%s %s must be available",n,i),L(dn(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,i,t),t}var bn,gn,Sn,An="amp-story",Tn=function(t){var n=function(t){return function(t,n){return $(t=V(t),n)?K(t,n):null}(t,"story-store")}(t);return n||(n=new wn(t),function(t,i,r,e){X(t=V(t),t,"story-store",(function(){return n}))}(t)),n},On={CAN_INSERT_AUTOMATIC_AD:1,CAN_SHOW_AUDIO_UI:2,CAN_SHOW_NAVIGATION_OVERLAY_HINT:3,CAN_SHOW_PAGINATION_BUTTONS:4,CAN_SHOW_PREVIOUS_PAGE_HELP:5,CAN_SHOW_SHARING_UIS:6,CAN_SHOW_STORY_URL_INFO:7,CAN_SHOW_SYSTEM_LAYER_BUTTONS:8,VIEWER_CUSTOM_CONTROLS:9,AD_STATE:10,PAGE_ATTACHMENT_STATE:11,EDUCATION_STATE:12,GYROSCOPE_PERMISSION_STATE:13,INFO_DIALOG_STATE:14,INTERACTIVE_COMPONENT_STATE:15,INTERACTIVE_REACT_STATE:16,KEYBOARD_ACTIVE_STATE:17,MUTED_STATE:18,PAGE_HAS_AUDIO_STATE:19,PAGE_HAS_CAPTION_STATE:20,CAPTIONS_STATE:21,PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE:22,PANNING_MEDIA_STATE:23,PAUSED_STATE:24,PREVIEW_STATE:25,RTL_STATE:26,SHARE_MENU_STATE:27,SHOPPING_DATA:28,STORY_HAS_BACKGROUND_AUDIO_STATE:29,STORY_HAS_PLAYBACK_UI_STATE:30,SYSTEM_UI_IS_VISIBLE_STATE:31,UI_STATE:32,ACTIONS_ALLOWLIST:33,CONSENT_ID:34,CURRENT_PAGE_ID:35,CURRENT_PAGE_INDEX:36,ADVANCEMENT_MODE:37,NAVIGATION_PATH:38,NEW_PAGE_AVAILABLE_ID:39,PAGE_IDS:40,PAGE_SIZE:41,SUBSCRIPTIONS_DIALOG_UI_STATE:42,SUBSCRIPTIONS_STATE:43,SUBSCRIPTIONS_PAGE_INDEX:44},En=(p(bn={},On.ACTIONS_ALLOWLIST,(function(t,n){return t.length!==n.length})),p(bn,On.INTERACTIVE_COMPONENT_STATE,(function(t,n){return t.element!==n.element||t.state!==n.state})),p(bn,On.NAVIGATION_PATH,(function(t,n){return t.length!==n.length})),p(bn,On.PAGE_IDS,(function(t,n){return t.length!==n.length})),p(bn,On.PAGE_SIZE,(function(t,n){return null===t||null===n||t.width!==n.width||t.height!==n.height})),p(bn,On.PANNING_MEDIA_STATE,(function(t,n){return null===t||null===n||!x(t,n,2)})),p(bn,On.SHOPPING_DATA,(function(t,n){return null===t||null===n||!x(t,n,2)})),p(bn,On.INTERACTIVE_REACT_STATE,(function(t,n){return!x(t,n,3)})),bn),wn=function(){function t(t){this.t=t,this.ov={},this.Si=d(d({},this.oA()),this.aA())}var n=t.prototype;return n.get=function(t){if(E(this.Si,t))return this.Si[t];C().error(An,"Unknown state %s.",t)},n.subscribe=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(this.Si,t)?(this.ov[t]||(this.ov[t]=new wt),this.ov[t].add(n),i&&n(this.get(t))):C().error(An,"Can't subscribe to unknown state %s.",t)},n.dispatch=function(t,n){var i,r=this,e=d({},this.Si);this.Si=function(t,n,i){var r,e,a,o,s;switch(n){case 1:return d(d({},t),{},p({},On.INTERACTIVE_REACT_STATE,d(d({},t[On.INTERACTIVE_REACT_STATE]),{},p({},i.interactiveId,i))));case 2:return d(d({},t),{},p({},On.NEW_PAGE_AVAILABLE_ID,i));case 3:var u=d(d({},t[On.PANNING_MEDIA_STATE]),i);return d(d({},t),{},p({},On.PANNING_MEDIA_STATE,u));case 4:var h=d(d({},t[On.SHOPPING_DATA]),i);return d(d({},t),{},p({},On.SHOPPING_DATA,h));case 5:var c=[].concat(t[On.ACTIONS_ALLOWLIST],i);return d(d({},t),{},p({},On.ACTIONS_ALLOWLIST,c));case 21:return d(d({},t),{},p({},On.PAGE_ATTACHMENT_STATE,!!i));case 15:return d(d({},t),{},p({},On.AD_STATE,!!i));case 16:return d(d({},t),{},p({},On.EDUCATION_STATE,!!i));case 18:return i=i,d(d({},t),{},(p(r={},On.PAUSED_STATE,1===i.state),p(r,On.SYSTEM_UI_IS_VISIBLE_STATE,!0),p(r,On.INTERACTIVE_COMPONENT_STATE,i),r));case 17:return d(d({},t),{},(p(e={},On.INFO_DIALOG_STATE,!!i),p(e,On.PAUSED_STATE,!!i),e));case 30:return d(d({},t),{},p({},On.STORY_HAS_PLAYBACK_UI_STATE,!!i));case 29:return d(d({},t),{},p({},On.STORY_HAS_BACKGROUND_AUDIO_STATE,!!i));case 20:return d(d({},t),{},p({},On.MUTED_STATE,!!i));case 22:return d(d({},t),{},p({},On.PAGE_HAS_AUDIO_STATE,!!i));case 23:return d(d({},t),{},p({},On.PAGE_HAS_CAPTIONS_STATE,!!i));case 24:return d(d({},t),{},p({},On.CAPTIONS_STATE,!!i));case 25:return d(d({},t),{},p({},On.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!!i));case 26:return d(d({},t),{},p({},On.PAUSED_STATE,!!i));case 27:return d(d({},t),{},p({},On.RTL_STATE,!!i));case 19:return d(d({},t),{},p({},On.KEYBOARD_ACTIVE_STATE,!!i));case 28:return d(d({},t),{},(p(a={},On.PAUSED_STATE,!!i),p(a,On.SHARE_MENU_STATE,!!i),a));case 33:return d(d({},t),{},p({},On.SYSTEM_UI_IS_VISIBLE_STATE,!!i));case 34:return 3===t[On.UI_STATE]&&3!==i?(C().error(An,"Cannot switch away from UIType_Enum.VERTICAL"),t):d(d({},t),{},p({},On.UI_STATE,i));case 9:return d(d({},t),{},p({},On.GYROSCOPE_PERMISSION_STATE,i));case 8:return d(d({},t),{},p({},On.CONSENT_ID,i));case 6:return d(d({},t),{},(p(o={},On.CURRENT_PAGE_ID,i.id),p(o,On.CURRENT_PAGE_INDEX,i.index),o));case 7:return d(d({},t),{},p({},On.ADVANCEMENT_MODE,i));case 10:return d(d({},t),{},p({},On.NAVIGATION_PATH,i));case 11:return d(d({},t),{},p({},On.PAGE_IDS,i));case 12:return d(d({},t),{},p({},On.PAGE_SIZE,i));case 13:return d(d({},t),{},p({},On.VIEWER_CUSTOM_CONTROLS,i));case 14:return d(d({},t),{},p({},On.SUBSCRIPTIONS_PAGE_INDEX,i));case 31:return d(d({},t),{},(p(s={},On.SUBSCRIPTIONS_DIALOG_UI_STATE,!!i),p(s,On.PAUSED_STATE,!!i),s));case 32:return d(d({},t),{},p({},On.SUBSCRIPTIONS_STATE,i));default:return C().error(An,"Unknown action %s.",n),t}}(this.Si,t,n),Object.keys(this.ov).forEach((function(t){((i=En[t])?i(e[t],r.Si[t]):e[t]!==r.Si[t])&&r.ov[t].fire(r.Si[t])}))},n.oA=function(){var t;return p(t={},On.CAN_INSERT_AUTOMATIC_AD,!0),p(t,On.CAN_SHOW_AUDIO_UI,!0),p(t,On.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!0),p(t,On.CAN_SHOW_PREVIOUS_PAGE_HELP,!0),p(t,On.CAN_SHOW_PAGINATION_BUTTONS,!0),p(t,On.CAN_SHOW_SHARING_UIS,!0),p(t,On.CAN_SHOW_STORY_URL_INFO,!0),p(t,On.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!0),p(t,On.VIEWER_CUSTOM_CONTROLS,[]),p(t,On.AD_STATE,!1),p(t,On.EDUCATION_STATE,!1),p(t,On.GYROSCOPE_PERMISSION_STATE,""),p(t,On.INFO_DIALOG_STATE,!1),p(t,On.INTERACTIVE_COMPONENT_STATE,{state:0}),p(t,On.INTERACTIVE_REACT_STATE,{}),p(t,On.KEYBOARD_ACTIVE_STATE,!1),p(t,On.MUTED_STATE,!0),p(t,On.PAGE_ATTACHMENT_STATE,!1),p(t,On.PAGE_HAS_AUDIO_STATE,!1),p(t,On.PAGE_HAS_CAPTIONS_STATE,!1),p(t,On.CAPTIONS_STATE,!0),p(t,On.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!1),p(t,On.PANNING_MEDIA_STATE,{}),p(t,On.PAUSED_STATE,!1),p(t,On.RTL_STATE,!1),p(t,On.SHARE_MENU_STATE,!1),p(t,On.SHOPPING_DATA,{}),p(t,On.STORY_HAS_BACKGROUND_AUDIO_STATE,!1),p(t,On.STORY_HAS_PLAYBACK_UI_STATE,!1),p(t,On.SYSTEM_UI_IS_VISIBLE_STATE,!0),p(t,On.UI_STATE,0),p(t,On.ACTIONS_ALLOWLIST,[]),p(t,On.CONSENT_ID,null),p(t,On.CURRENT_PAGE_ID,""),p(t,On.CURRENT_PAGE_INDEX,0),p(t,On.ADVANCEMENT_MODE,""),p(t,On.NEW_PAGE_AVAILABLE_ID,""),p(t,On.NAVIGATION_PATH,[]),p(t,On.PAGE_IDS,[]),p(t,On.PAGE_SIZE,null),p(t,On.PREVIEW_STATE,!1),p(t,On.SUBSCRIPTIONS_DIALOG_UI_STATE,!1),p(t,On.SUBSCRIPTIONS_STATE,0),p(t,On.SUBSCRIPTIONS_PAGE_INDEX,-1),t},n.aA=function(){var t,n,i,r,e,a;switch(e=k(this.t.location.hash).embedMode,0===(r=a=parseInt(e,10))||1===r||2===r||3===r||4===r?a:0){case 1:return p(t={},On.CAN_INSERT_AUTOMATIC_AD,!1),p(t,On.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),p(t,On.CAN_SHOW_PAGINATION_BUTTONS,!1),p(t,On.CAN_SHOW_PREVIOUS_PAGE_HELP,!0),p(t,On.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),p(t,On.MUTED_STATE,!1),t;case 2:return p({},On.CAN_SHOW_SHARING_UIS,!1);case 3:return p(n={},On.PREVIEW_STATE,!0),p(n,On.CAN_INSERT_AUTOMATIC_AD,!1),p(n,On.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),p(n,On.CAN_SHOW_PAGINATION_BUTTONS,!1),p(n,On.CAN_SHOW_PREVIOUS_PAGE_HELP,!1),p(n,On.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),n;case 4:return p(i={},On.CAN_SHOW_AUDIO_UI,!1),p(i,On.CAN_SHOW_SHARING_UIS,!1),p(i,On.CAN_SHOW_STORY_URL_INFO,!1),i;default:return{}}},t}(),_n="none";function xn(t){return!!t&&-1!=t.toString().indexOf("[native code]")}function Nn(t){return void 0===gn&&(n=t||Element,gn=n.prototype.attachShadow?"v1":n.prototype.createShadowRoot?"v0":_n),gn;var n}function In(t,n,i){var r="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)r+=function(t,n,i){var r=[];return t.split(",").forEach((function(t){t=t.trim(),i&&(t=i(t)),function(t,n){var i=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+jn,"m")}(n);return!t.match(i)}(t,n)&&(t=function(t,n){return function(t,n){return t.match(Dn)?(t=t.replace(Pn,n)).replace(Dn,n+" "):n+" "+t}(t,n)}(t,n)),r.push(t)})),r.join(", ")}(t.selectorText,n,i)+" {\n\t",r+=function(t){var n=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(n=n.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var i=t.style;for(var r in i)"initial"===i[r]&&(n+=r+": initial; ");return n}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)r+="@media "+t.media.mediaText+" {\n",r+=In(t.cssRules,n),r+="\n}\n\n";else try{t.cssText&&(r+=t.cssText+"\n\n")}catch(t){}})),r}var kn="-shadowcsshost",Rn=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",jn=(new RegExp("("+kn+Rn,"gim"),new RegExp("(-shadowcsscontext"+Rn,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),Pn=kn+"-no-combinator",Dn=new RegExp(kn,"gim");new RegExp("-shadowcsscontext","gim");var Cn=/[^\.\-\_0-9a-zA-Z]/,Mn=/[^\-\_0-9a-zA-Z]/;function Ln(t){var n,i=U(t),r=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(r)return r.innerHTML="",r;var e,a=Nn();if("v1"==a?(n=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(n,"styleSheets",{get:function(){var t=[];return n.childNodes.forEach((function(n){"STYLE"===n.tagName&&t.push(n.sheet)})),t}}):n="v0"==a?t.createShadowRoot():function(t){var n=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var i=n.createElement("style");i.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(i);var r=n.createElement("i-amphtml-shadow-root");return t.appendChild(r),t.__AMP_SHADOW_ROOT=r,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:r}),r.host=t,r.getElementById=function(t){var n=String(t).replace(mt,dt);return r.querySelector("#".concat(n))},Object.defineProperty(r,"styleSheets",{get:function(){return n.styleSheets?(t=n.styleSheets,t?Array.prototype.slice.call(t):[]).filter((function(t){return r.contains(t.ownerNode)})):[];var t}}),r}(t),void 0===Sn&&(Sn=Nn()!=_n&&(xn(Element.prototype.attachShadow)||xn(Element.prototype.createShadowRoot))),!Sn){var o="i-amphtml-sd-".concat(i.Math.floor(1e4*i.Math.random()));n.id=o,n.host.classList.add(o),e=function(t){return function(t,n){return function(t,n){var i=M(t.id),r=t.ownerDocument,e=null;try{e=Bn(r.implementation.createHTMLDocument(""),n)}catch(t){}if(!e)try{e=Bn(r,n)}catch(t){}return e?In(e,".".concat(i),Un):n}(t,n)}(n,t)},n.__AMP_CSS_TR=e}return n}function Un(t){return t.replace(/(html|body)/g,zn)}function zn(t,n,i,r){var e=r.charAt(i-1),a=r.charAt(i+t.length);return e&&!Cn.test(e)||a&&!Mn.test(a)?t:"amp-"+t}function Bn(t,n){var i=t.createElement("style");i.textContent=n;try{return(t.head||t.documentElement).appendChild(i),i.sheet?i.sheet.cssRules:null}finally{i.parentNode&&i.parentNode.removeChild(i)}}function Gn(t,n,i){var r=self.document.createElement("style");r.textContent=i;var e=Ln(t);return e.appendChild(r),e.appendChild(n),t}"[".concat("data-text-background-color","]");var Hn="amp-story-auto-ads:ui",Jn="amp4ads-vars-",Vn="cta-url",Wn=["cta-accent-color","cta-accent-element","cta-image","theme"],Yn=function(){function t(t,n,i){var r=this;this._e=K(t,"timer"),this.Re=n,this.Ne=i||0,this.Ce=-1,this.De=0,this.Fn=!1,this.je=function(){r.ze()}}var n=t.prototype;return n.isPending=function(){return-1!=this.Ce},n.schedule=function(t){var n=t||this.Ne;this.Fn&&n<10&&(n=10);var i=Date.now()+n;return(!this.isPending()||i-this.De<-10)&&(this.cancel(),this.De=i,this.Ce=this._e.delay(this.je,n),!0)},n.ze=function(){this.Ce=-1,this.De=0,this.Fn=!0,this.Re(),this.Fn=!1},n.cancel=function(){this.isPending()&&(this._e.cancel(this.Ce),this.Ce=-1)},t}(),Kn="__AMP_Gestures",Xn=function(t,n,i,r){this.type=t,this.data=n,this.time=i,this.event=r},Fn=function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.Gn=t,this.zI=[],this.Ag=[],this.xi=[],this.NI=[],this.RI=null;var r=t.ownerDocument.defaultView,e=cn(r);this.jI=n||e,this.CI=i,this.DI=!1,this.ze=new Yn(U(t),this.ad.bind(this)),this.LI=new wt,this.UI=Object.create(null),this.YI=this.Wp.bind(this),this.HI=this.Qp.bind(this),this.VI=this.Kp.bind(this),this.GI=this.Mg.bind(this),this.Gn.addEventListener("touchstart",this.YI,!!e&&{passive:!0}),this.Gn.addEventListener("touchend",this.HI),this.Gn.addEventListener("touchmove",this.VI,!!e&&{passive:!0}),this.Gn.addEventListener("touchcancel",this.GI),this.BI=!1}t.get=function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=n[Kn];return e||(e=new t(n,i,r),n[Kn]=e),e};var n=t.prototype;return n.cleanup=function(){this.Gn.removeEventListener("touchstart",this.YI),this.Gn.removeEventListener("touchend",this.HI),this.Gn.removeEventListener("touchmove",this.VI),this.Gn.removeEventListener("touchcancel",this.GI),delete this.Gn[Kn],this.ze.cancel()},n.onGesture=function(t,n){var i=new t(this),r=i.getType(),e=this.UI[r];return e||(this.zI.push(i),e=new wt,this.UI[r]=e),e.add(n)},n.removeGesture=function(t){var n=new t(this).getType(),i=this.UI[n];if(i){i.removeAll();var r=b(this.zI,(function(t){return t.getType()==n}));return!(r<0||(this.zI.splice(r,1),this.xi.splice(r,1),this.NI.splice(r,1),this.Ag.splice(r,1),delete this.UI[n],0))}return!1},n.onPointerDown=function(t){return this.LI.add(t)},n.Wp=function(t){var n=Date.now();this.DI=!1,this.LI.fire(t);for(var i=0;i<this.zI.length;i++)this.xi[i]||(this.NI[i]&&this.NI[i]<n&&this.Tg(i),this.zI[i].onTouchStart(t)&&this.Sg(i));this.FI(t)},n.Kp=function(t){for(var n=Date.now(),i=0;i<this.zI.length;i++)this.Ag[i]&&(this.NI[i]&&this.NI[i]<n?this.Tg(i):this.zI[i].onTouchMove(t)||this.Tg(i));this.FI(t)},n.Qp=function(t){for(var n=Date.now(),i=0;i<this.zI.length;i++)if(this.Ag[i])if(this.NI[i]&&this.NI[i]<n)this.Tg(i);else{this.zI[i].onTouchEnd(t);var r=!this.NI[i],e=this.NI[i]<n;this.RI==this.zI[i]||!r&&!e||this.Tg(i)}this.FI(t)},n.Mg=function(t){for(var n=0;n<this.zI.length;n++)this.WI(n);this.FI(t)},n.Zp=function(t,n){if(this.RI)t.acceptCancel();else{for(var i=Date.now(),r=0;r<this.zI.length;r++)this.zI[r]==t&&(this.xi[r]=i+n,this.NI[r]=0);this.BI=!0}},n.XI=function(t,n){if(this.RI)t.acceptCancel();else for(var i=Date.now(),r=0;r<this.zI.length;r++)this.zI[r]==t&&(this.NI[r]=i+n)},n.qI=function(t){this.RI==t&&(this.RI=null,this.DI=!0)},n.ZI=function(t,n,i){w(this.RI==t);var r=this.UI[t.getType()];r&&r.fire(new Xn(t.getType(),n,Date.now(),i))},n.FI=function(t){var n=!!this.RI||this.DI;if(this.DI=!1,!n)for(var i=Date.now(),r=0;r<this.zI.length;r++)if(this.xi[r]||this.NI[r]&&this.NI[r]>=i){n=!0;break}n?(t.stopPropagation(),this.jI||t.preventDefault()):this.CI&&t.stopPropagation(),this.BI&&(this.BI=!1,this.ad())},n.ad=function(){for(var t=Date.now(),n=-1,i=0;i<this.zI.length;i++)this.xi[i]?(-1==n||this.xi[i]>this.xi[n])&&(n=i):this.NI[i]&&this.NI[i]<t&&this.Tg(i);if(-1!=n){for(var r=0,e=0;e<this.zI.length;e++)!this.xi[e]&&this.Ag[e]&&(r=Math.max(r,this.NI[e]-t));r<2?this.$I(n):this.ze.schedule(r)}},n.$I=function(t){for(var n=this.zI[t],i=0;i<this.zI.length;i++)i!=t&&this.WI(i);this.xi[t]=0,this.NI[t]=0,this.RI=n,n.acceptStart()},n.Sg=function(t){this.Ag[t]=!0,this.NI[t]=0},n.Tg=function(t){this.Ag[t]=!1,this.NI[t]=0,this.xi[t]||this.zI[t].acceptCancel()},n.WI=function(t){this.xi[t]=0,this.Tg(t)},t}(),Zn=function(){function t(t,n){this.KI=t,this.Iy=n}var n=t.prototype;return n.getType=function(){return this.KI},n.signalReady=function(t){this.Iy.Zp(this,t)},n.signalPending=function(t){this.Iy.XI(this,t)},n.signalEnd=function(){this.Iy.qI(this)},n.signalEmit=function(t,n){this.Iy.ZI(this,t,n)},n.acceptStart=function(){},n.acceptCancel=function(){},n.onTouchStart=function(t){return!1},n.onTouchMove=function(t){return!1},n.onTouchEnd=function(t){},t}();function qn(t,n,i){n<1&&(n=1);var r=t/n,e=.5+Math.min(n/33.34,.5);return r*e+i*(1-e)}Math.round(-16.67/Math.log(.95));var $n=function(t){u(i,t);var n=f(i);function i(t){return n.call(this,"swipe-x",t,!0,!1)}return i}(function(t){u(i,t);var n=f(i);function i(t,i,r,e){var a;return(a=n.call(this,t,i)).JI=r,a.QI=e,a.RI=!1,a.tz=0,a.iz=0,a.nz=0,a.rz=0,a.oz=0,a.az=0,a.sa=0,a.sz=0,a.ez=0,a.uz=0,a.hz=0,a}var r=i.prototype;return r.onTouchStart=function(t){var n=t.touches;return!!(this.RI&&n&&n.length>1)||!(!n||1!=n.length)&&(this.sa=Date.now(),this.tz=n[0].clientX,this.iz=n[0].clientY,!0)},r.onTouchMove=function(t){var n=t.touches;if(n&&n.length>=1){var i=n[0],r=i.clientX,e=i.clientY;if(this.nz=r,this.rz=e,this.RI)this.cz(!1,!1,t);else{var a=Math.abs(r-this.tz),o=Math.abs(e-this.iz);if(this.JI&&this.QI)(a>=8||o>=8)&&this.signalReady(-10);else if(this.JI){if(a>=8&&a>o)this.signalReady(-10);else if(o>=8)return!1}else{if(!this.QI)return!1;if(o>=8&&o>a)this.signalReady(-10);else if(a>=8)return!1}}return!0}return!1},r.onTouchEnd=function(t){var n=t.touches;n&&0==n.length&&this.lz(t)},r.acceptStart=function(){this.RI=!0,this.oz=this.tz,this.az=this.iz,this.ez=this.sa,this.tz=this.nz,this.iz=this.rz,this.cz(!0,!1,null)},r.acceptCancel=function(){this.RI=!1},r.cz=function(t,n,i){this.sz=Date.now();var r=this.sz-this.ez;if(!n&&r>4||n&&r>16){var e=qn(this.nz-this.oz,r,this.uz),a=qn(this.rz-this.az,r,this.hz);(!n||r>32||0!=e||0!=a)&&(this.uz=Math.abs(e)>1e-4?e:0,this.hz=Math.abs(a)>1e-4?a:0),this.oz=this.nz,this.az=this.rz,this.ez=this.sz}this.signalEmit({first:t,last:n,time:this.sz,deltaX:this.nz-this.tz,deltaY:this.rz-this.iz,startX:this.tz,startY:this.iz,lastX:this.nz,lastY:this.rz,velocityX:this.uz,velocityY:this.hz},i)},r.lz=function(t){this.RI&&(this.RI=!1,this.cz(!1,!0,t),this.signalEnd())},i}(Zn)),Qn=(d(d({},{"bg":"https://tpc.googlesyndication.com/b4a/b4a-runner.html","moat":"https://z.moatads.com/ampanalytics093284/iframe.html"}),{},{"bg":"https://tpc.googlesyndication.com/b4a/experimental/b4a-runner.html"}),"beacon");function ti(t,n,i){if(L("string"==typeof n.finalUrl,"finalUrl of target '%s' must be a string",t),n.filters&&n.filters.forEach((function(t){L(i.filters[t],"filter '%s' not defined",t)})),n.vars){var r=/^_[a-zA-Z0-9_-]+$/;for(var e in n.vars)L(r.test(e),"'%s' must match the pattern '%s'",e,r)}}var ni,ii="amp-story-visible",ri=function(){function t(t,n,i,r,e,a){this.DC=n,this.Qe=i,this.qB=r,this.Oi="i-amphtml-ad-page-".concat(this.Qe),this.t=t.win,this.tp=this.t.document,this.hU=H(t,tn),this.Xat=null,this.Zat=null,this.oS=null,this.$at=null,this.Qat=null,this.hst=null,this.cst=null,this.Fy=!1,this.lst=[],this.fst=e,this.pst=!1,this.eA=a,this.vst=!1}var n=t.prototype;return n.getAdDoc=function(){return this.cst},n.getId=function(){return this.Oi},n.hasTimedOut=function(){return!!this.Xat&&Date.now()-this.Xat>1e4},n.isLoaded=function(){return this.Fy},n.hasBeenViewed=function(){return this.pst},n.getPageElement=function(){return this.Zat},n.registerLoadCallback=function(t){this.lst.push(t)},n.toggleVisibility=function(){if(this.pst=!0,this.hst&&St(this.hst,"cta-active"),this.cst){St(this.cst.body,ii);var t=this.cst.querySelector("#x-a4a-former-body");t&&St(t,ii)}},n.build=function(){this.Xat=Date.now(),this.Zat=this.mst(),this.oS=this.fS();var t=this.tp.createElement("div");t.classList.add("i-amphtml-glass-pane");var n=this.tp.createElement("amp-story-grid-layer");n.setAttribute("template","fill");var i=n.cloneNode(!1);return n.appendChild(this.oS),i.appendChild(t),this.Zat.appendChild(n),this.Zat.appendChild(i),this.dst(),this.yst(),this.w2("story-ad-request",p({},"requestTime",Date.now())),this.Zat},n.maybeCreateCta=function(){var t=this;return a().then((function(){var n;if(t.vst)return!0;var r,e,a,o,s=O(),u=(null!==(n=t.cst)&&void 0!==n?n:t.oS).querySelectorAll("meta[name]");return t.cst?Object.assign(s,function(t){var n=O();return t.forEach((function(t){var i=t.content,r=t.name;if(r.startsWith("amp-cta-")){var e=r.split("amp-")[1];n[e]=i}else if(r.startsWith(Jn)){var a=r.split(Jn)[1];n[a]=i}})),n}(u),t.bst()):Object.assign(s,(a=(r=M(t.oS)).getAttribute("data-vars-ctaurl"),p(e={},"cta-type",r.getAttribute("data-vars-ctatype")),p(e,Vn,a),e)),!!((o=s)["cta-type"]&&o["cta-url"]||(P().error(Hn,"Both CTA Type & CTA Url are required in ad response."),0))&&(s["cta-type"]=function(t,n){if($t[t]){var i=$t[t];return n.getLocalizedString(i)}return t}(s["cta-type"],t.qB)||s["cta-type"],t.hU.then((function(n){n.setVar(t.Qe,"ctaType",s["cta-type"]);for(var r=0,e=Object.entries(function(t){var n=O();return t.forEach((function(t){var i=t.content,r=t.name;/^[a-zA-Z0-9\-_]+$/.test(r)&&(n[r]=i)})),n}(u));r<e.length;r++){var a=(2,function(t){if(Array.isArray(t))return t}(c=e[r])||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,e,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(t){s=!0,e=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw e}}return a}}(c)||i(c,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],h=a[1];n.setVar(t.Qe,"STORY_AD_META_".concat(o),h)}var c})),(t.Qat=function(t,n,i){var r=t.document;try{var e=n["attribution-url"],a=n["attribution-icon"];if(!e||!a)return null;yn(e,i,"amp-story-auto-ads attribution url"),yn(a,i,"amp-story-auto-ads attribution icon");var o=bt(r,"div",{"role":"button","class":"i-amphtml-attribution-host"}),s=bt(r,"img",{"class":"i-amphtml-story-ad-attribution","src":a});return s.addEventListener("click",(function(n){return function(t,n){!function(t,n,i,r){var e,a;try{e=t.open(n,i,void 0)}catch(t){C().error("DOM","Failed to open url on target: ",i,t)}!e&&("number"!=typeof a&&(a=0),a+"noopener".length>"".length||-1==="".indexOf("noopener",a))&&(e=t.open(n,"_top"))}(t,n,"_blank")}(t,e)})),Gn(o,s,".i-amphtml-story-ad-attribution{position:absolute;bottom:0!important;left:0!important;max-height:15px!important;z-index:4!important}.i-amphtml-story-ad-fullbleed.i-amphtml-story-ad-attribution{bottom:12.5vh!important;left:50%!important;transform:translateX(-22.5vh)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-attribution.css*/"),i.appendChild(o),s}catch(t){return null}}(t.t,s,M(t.Zat)))&&t.eA.subscribe(On.UI_STATE,(function(n){t.RA(n)}),!0),t.gst(s))}))},n.mst=function(){var t={"ad":"","aria-hidden":!0,"distance":"2","i-amphtml-loading":"","id":this.Oi},n=at(this.t,lt);n&&n!=ft&&(t["auto-advance-after"]="10s");var i=bt(this.tp,"amp-story-page",t);return an(i,"background-color","#212125"),i},n.fS=function(){return"fake"===this.DC.type&&(this.DC.id="i-amphtml-demo-".concat(this.Qe)),bt(this.tp,"amp-ad",this.DC)},n.dst=function(){var t=this;this.oS.signals().whenSignal(v).then((function(){return t.Sst()}));var n,i,r,e,a,o,s,u=(n=this.t,i="message",r=void 0,e=n,a=function(n){"amp-story-ad-load"===n.data&&t.Ast()&&n.source===t.$at.contentWindow&&(t.vst=!0,t.Zat.setAttribute("xdomain-ad",""),t.Sst(),u())},o=function(t){try{return a(t)}catch(t){var n,i;throw null===(n=(i=self).__AMP_REPORT_ERROR)||void 0===n||n.call(i,t),t}},s=function(){if(void 0!==sn)return sn;sn=!1;try{var t={get capture(){return sn=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return sn}(),e.addEventListener(i,o,!!s&&r),function(){null==e||e.removeEventListener(i,o,!!s&&r),a=null,e=null,o=null})},n.yst=function(){var t=this,n=Fn.get(this.Zat,!0,!1);n.onGesture($n,(function(){t.w2("story-ad-swipe",p({},"swipeTime",Date.now())),n.cleanup()}))},n.Ast=function(){return this.$at?this.$at:this.$at=yt(M(this.Zat),"iframe")},n.Sst=function(){var t;this.Zat.getImpl().then((function(t){return t.delegateVideoAutoplay()})),this.Zat.removeAttribute("i-amphtml-loading"),this.w2("story-ad-load",p({},"loadTime",Date.now())),this.Ast()&&!this.vst&&(this.cst=(t=this.$at).contentDocument||t.contentWindow.document),this.Fy=!0,this.lst.forEach((function(t){return t()}))},n.gst=function(t){var n=this;return function(t,n,i,e){var a=e["cta-url"],o=e["cta-type"],s=bt(t,"a",{"class":"i-amphtml-story-ad-link","target":"_blank","href":a});return n.fit(i,s,o).then((function(n){if(!n)return P().warn(Hn,"CTA button text is too long. Ad was discarded."),null;if(s.href=a,s.textContent=o,"https:"!==s.protocol&&"http:"!==s.protocol)return P().warn(Hn,"CTA url is not valid. Ad was discarded"),null;var u=at(t.defaultView,lt);return u==pt||u==vt?function(t,n,i){var e=t.createElement("amp-story-page-outlink");e.setAttribute("layout","nodisplay");var a=bt(t,"a",{"class":"i-amphtml-story-ad-link","target":"_top","href":n["cta-url"]});a.textContent=n["cta-type"],e.appendChild(a);for(var o,s=r(Wn,!0);!(o=s()).done;){var u=o.value;n[u]&&e.setAttribute(u,n[u])}return Ot(U(t)).installExtensionForDoc(W(t),"amp-story-page-attachment","0.1"),e.className="i-amphtml-story-page-outlink-container",i.appendChild(e),a}(t,e,i):function(t,n,i){var r=n.createElement("amp-story-cta-layer");r.className="i-amphtml-cta-container";var e=bt(n,"div",{"class":"i-amphtml-story-ad-link-root","role":"button"});return Gn(e,t,".i-amphtml-story-ad-link{background-color:#fff!important;border-radius:20px!important;box-sizing:border-box!important;bottom:32px!important;box-shadow:0px 2px 12px rgba(0,0,0,0.16)!important;color:#4285f4!important;font-family:Roboto,sans-serif!important;font-weight:700!important;height:36px!important;letter-spacing:0.2px!important;line-height:36px!important;overflow:hidden!important;opacity:0;padding:0 10px!important;position:absolute!important;text-align:center!important;text-decoration:none!important;min-width:120px!important;max-width:calc(100vw - 64px)}[cta-active].i-amphtml-story-ad-link{animation-delay:100ms!important;animation-duration:300ms!important;animation-timing-function:cubic-bezier(0.4,0,0.2,1)!important;animation-fill-mode:forwards!important;animation-name:ad-cta!important}@keyframes ad-cta{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-cta-button.css*/"),r.appendChild(e),i.appendChild(r),t}(s,t,i)}))}(this.tp,M(this.fst),this.Zat,t).then((function(t){return!!t&&(n.hst=t,t.addEventListener("click",(function(){var t=p({},"clickTime",Date.now());n.w2("story-ad-click",t)})),!0)}))},n.bst=function(){var t=yt(this.cst.body,"amp-ad-exit");if(t)try{var n=t.children;L(1==n.length,"The tag should contain exactly one <script> child.");var i=n[0];L(gt(i),'The amp-ad-exit config should be inside a <script> tag with type="application/json"');var r=function(t){return L("object"==c(t)),t.filters?function(t){var n=["clickDelay","clickLocation","inactiveElement"];for(var i in t)L("object"==c(t[i]),"Filter specification '%s' is malformed",i),L(-1!=n.indexOf(t[i].type),"Supported filters: "+n.join(", "))}(t.filters):t.filters={},t.transport?function(t){for(var n in t)L(n==Qn||"image"==n,"Unknown transport option: '".concat(n,"'")),L("boolean"==typeof t[n])}(t.transport):t.transport={},function(t,n){for(var i in L("object"==c(t),"'targets' must be an object"),t)ti(i,t[i],n)}(t.targets,t),t}(_(i.textContent)),e=r.targets&&Object.keys(r.targets)&&r.targets[Object.keys(r.targets)[0]],a=e&&e.finalUrl;return e?p({},Vn,a):{}}catch(t){return C().error("amp-story-auto-ads:page",t),{}}},n.RA=function(t){this.Qat&&this.Qat.classList.toggle("i-amphtml-story-ad-fullbleed",2===t)},n.w2=function(t,n){var i=this;this.hU.then((function(r){return r.fireEvent(i.Zat,i.Qe,t,n)}))},t}(),ei=function(){function t(t,n){this.EI=t,this.DC=n,this.$i=t.getAmpDoc(),this.hU=H(this.$i,tn),this.qB=new Qt(this.EI.element),this.fst=new hn(this.$i),this.pz={},this.eA=Tn(this.$i.win),this.Tst=0,this.Ost=[]}var n=t.prototype;return n.hasUnusedAdPage=function(){return this.Tst<this.Ost.length},n.getUnusedAdPage=function(){var t=this.Ost[this.Tst];return M(t),this.pz[t]},n.discardCurrentAd=function(){var t;this.Tst++,this.w2("story-ad-discard",(p(t={},nn,this.Tst),p(t,"discardTime",Date.now()),t))},n.numberOfAdsCreated=function(){return this.Ost.length},n.createAdPage=function(){var t=this,n=this.Ost.length+1,i=new ri(this.$i,this.DC,n,this.qB,M(this.fst),M(this.eA)),r=i.build(),e=i.getId();return this.pz[e]=i,this.Ost.push(e),this.EI.element.appendChild(r),r.getImpl().then((function(n){t.EI.addPage(n)})),i},n.hasId=function(t){return!!this.pz[t]},n.getAdPageById=function(t){return this.pz[t]},n.getIndexById=function(t){return b(this.Ost,(function(n){return n===t}))+1},n.maybeInsertPageAfter=function(t,n){var i=this,r=this.EI.getPageById(t),e=this.EI.getNextPage(r);return e?this.Est(r)||r.isAd()||e.isAd()?Promise.resolve(0):n.maybeCreateCta().then((function(r){return r?i.wst(n,t):(i.discardCurrentAd(),1)})):Promise.resolve(0)},n.wst=function(t,n){var i=t.getId();this.EI.insertPage(n,i);var r=this.getIndexById(i),e=this.EI.getPageIndexById(n);return this.hU.then((function(t){return t.setVar(r,"position",e+1)})),this._st(),2},n._st=function(){var t;this.Tst++,this.w2("story-ad-insert",(p(t={},nn,this.Tst),p(t,"insertTime",Date.now()),t))},n.Est=function(t){return t.element.hasAttribute("next-page-no-ad")},n.w2=function(t,n){var i=this;this.hU.then((function(r){return r.fireEvent(i.EI.element,n.adIndex,t,n)}))},t}(),ai=function(){function t(t,n){this.eA=t,this.xst=n,this.Nst=O(),this.Ist=1,this.kst=!1,this.Rst=!1}var n=t.prototype;return n.isStoryEligible=function(){return this.eA.get(On.PAGE_IDS).length>7},n.initializePages=function(){return[this.xst.createAdPage()]},n.onPageChange=function(t){E(this.Nst,t)||(this.Nst[t]=!0,this.Ist++),!this.kst&&!this.Rst&&this.jst()&&this.xst.hasUnusedAdPage()&&(this.Rst=!0,this.Pst(t))},n.onNewAdView=function(t){this.kst=!1,this.Ist=0,this.Dst(t)&&this.xst.createAdPage()},n.Dst=function(t){return this.eA.get(On.PAGE_IDS).length-t>7},n.jst=function(){return this.Ist>=7},n.Pst=function(t){var n=this,i=this.xst.getUnusedAdPage();i.isLoaded()||!i.hasTimedOut()?i.isLoaded()&&this.xst.maybeInsertPageAfter(t,i).then((function(t){n.Rst=!1,2===t&&(n.kst=!0)})):this.xst.discardCurrentAd()},t}(),oi=function(){function t(t,n,i){this.xst=n,this.Cst=this.Mst(i),this.Lst=t.get(On.PAGE_IDS),this.Ust=[],this.zst=0}var n=t.prototype;return n.isStoryEligible=function(){return this.Lst.length>4},n.initializePages=function(){var t,n,i,r,e=this.Lst.length,a=(t=e,n=this.Cst,i=Math.floor(t/n),r=Math.random()<t%n/n?1:0,Math.min(i+r,4));return this.Ust=function(t,n){if(!n)return[];for(var i=Math.ceil(t/(n+1)),r=t-i,e=[i],a=Math.ceil(r/n),o=1;o<n;o++){var s=i+a*o;e.push(s)}return e}(e,a),a?[this.Bst()]:[]},n.Bst=function(){var t=this,n=this.Ust[this.zst],i=this.xst.createAdPage();return i.registerLoadCallback((function(){t.xst.maybeInsertPageAfter(t.Lst[n-1],i)})),this.zst++,i},n.onPageChange=function(t){},n.onNewAdView=function(t){this.zst<this.Ust.length&&this.Bst()},n.Mst=function(t){return t===ut?8:t===ht?10:t===ct?12:void 0},t}(),si="amp-story-auto-ads:config",ui={"height":!0,"layout":!0,"width":!0},hi={"adsense":!0,"custom":!0,"doubleclick":!0,"fake":!0,"nws":!0},ci=function(){function t(t,n){this.Gn=t,this.t=n}var n=t.prototype;return n.getConfig=function(){var t=this;return(this.Gn.hasAttribute("src")?this.Gst():this.w5(this.Gn.firstElementChild)).then((function(n){return t.Hst(n)}))},n.Hst=function(t){var n=t["ad-attributes"];for(var i in L(n,"".concat(si," Error reading config. ")+'Top level JSON should have an "ad-attributes" key'),this.Jst(n.type),n){var r=n[i];T(r)&&(n[i]=JSON.stringify(r)),ui[i]&&(P().warn(si,'ad-attribute "%s" is not allowed',i),delete n[i])}return d(d({},n),{class:"i-amphtml-story-ad",layout:"fill","amp-story":""})},n.w5=function(t){L(t&&gt(t),"The ".concat(si," should ")+'be inside a <script> tag with type="application/json"');var n=_(t.textContent);return Promise.resolve(n)},n.Gst=function(){return(t=this.t,z(t,"xhr")).fetchJson(this.Gn.getAttribute("src")).then((function(t){return t.json()})).catch((function(t){P().error(si,"error determining if remote config is valid json: bad url or bad json",t)}));var t},n.Jst=function(t){if(L(!!hi[t],"".concat(si,' "').concat(t,'" ad type is missing or not supported')),"fake"===t){var n=this.Gn.id;L(n&&n.startsWith("i-amphtml-demo-"),"".concat(si," id must start with i-amphtml-demo- to use fake ads"))}},t}(),li="amp-story-auto-ads",fi=(p(ni={},ft,lt),p(ni,"31067117",lt),p(ni,pt,lt),p(ni,vt,lt),ni),pi="ad-showing",vi=function(t){u(i,t);var n=f(i);function i(t){var i;return(i=n.call(this,t)).tp=i.win.document,i.EI=null,i.Vst=null,i.DC={},i.hU=null,i.Wst=null,i.eA=null,i.Yst=null,i.Kst=null,i}var e=i.prototype;return e.buildCallback=function(){var t,n=this;return this.Xst(),(t=this.win,function(t,n,i,r,e){return B(t,n)||function(t,n,i,r,e){return(a=t.document,new Promise((function(t){return function(t,n){!function(t,n,i){if(n())i();else{var r=U(t);if(r.MutationObserver){var e=new r.MutationObserver((function(){n()&&(e.disconnect(),i())}));e.observe(t,{childList:!0})}else var a=r.setInterval((function(){n()&&(r.clearInterval(a),i())}),5)}}(t.documentElement,(function(){return!!t.body}),n)}(a,t)}))).then((function(){var n=z(t,"extensions");return function(t,n,i){return function(t){if(!t)return[];for(var n=t.querySelectorAll("script[custom-element],script[custom-template]"),i=[],r=0;r<n.length;r++){var e=n[r],a=e.getAttribute("custom-element")||e.getAttribute("custom-template"),o=At(e.src);a&&o&&i.push({script:e,extensionId:a,extensionVersion:o.extensionVersion})}return i}(t.document.head).some((function(t){var r=t.extensionId,e=t.extensionVersion;return n==r&&i==e}))}(n.win,i,r)?n.waitForExtension(i,r):null})).then((function(i){return i?e?B(t,n):function(t,n){return F(t,n)}(t,n):null}));var a}(t,n,i,r,e)}(t,"story-store","amp-story","1.0")).then((function(t){if(M(t),n.eA=t,n.Fst()){var i=n.element.parentElement;L("AMP-STORY"===i.tagName,"<".concat(li,"> should be child of <amp-story>"));var r=n.getAmpDoc();return Ot(n.win).installExtensionForDoc(r,"amp-ad"),i.getImpl().then((function(t){n.EI=t}))}}))},e.isLayoutSupported=function(){return!0},e.layoutCallback=function(){var t=this;return this.Fst()?this.EI.signals().whenSignal(v).then((function(){return t.Zst()})).then((function(){var n,i,e,a;t.Kst=new ei(t.EI,t.DC),function(t){!function(t,n){t.__AMP_EXPERIMENT_BRANCHES=t.__AMP_EXPERIMENT_BRANCHES||{};for(var i,e,a,o={},s=r(n,!0);!(i=s()).done;){var u,h=i.value,c=h.experimentId;E(t.__AMP_EXPERIMENT_BRANCHES,c)?o[c]=t.__AMP_EXPERIMENT_BRANCHES[c]:null!==(u=h.isTrafficEligible)&&void 0!==u&&u.call(h,t)?!t.__AMP_EXPERIMENT_BRANCHES[c]&&it(t,c)&&(t.__AMP_EXPERIMENT_BRANCHES[c]=(e=h.branches,a=Math.random(),e[Math.floor(a*e.length)]||null),o[c]=t.__AMP_EXPERIMENT_BRANCHES[c]):t.__AMP_EXPERIMENT_BRANCHES[c]=null}}(t,[{experimentId:ot,isTrafficEligible:function(){return!0},branches:[st,ut,ht,ct]}])}(t.win),t.Yst=(n=t.win,i=t.eA,e=t.Kst,(a=at(n,ot))&&a!==st?new oi(i,e,a):new ai(i,e)),t.Yst.isStoryEligible()&&(t.hU=H(t.element,tn),t.qst(),t.uA(),t.yN())})):a()},e.Xst=function(){var t=this,n=Et(this.tp);n.isEmbedded()&&n.sendMessageAwaitResponse("playerExperiments").then((function(n){var i=null==n?void 0:n.experimentIds;i&&i.forEach((function(n){var i,r,e,a=fi[n];a&&(i=t.win,r=a,e=n.toString(),i.__AMP_EXPERIMENT_BRANCHES=i.__AMP_EXPERIMENT_BRANCHES||{},function(t,n,i,r){var e=it(t,n),a=null!=i?i:!e;if(a!=e&&(rt(t)[n]=a,0)){var o=et(t);o[n]=a,function(t,n){var i=[];for(var r in n)i.push((!1===n[r]?"-":"")+r);try{var e;null===(e=t.localStorage)||void 0===e||e.setItem(tt,i.join(","))}catch(t){P().error(Q,"Failed to save experiments to localStorage.")}}(t,o),P().warn(Q,'"%s" experiment %s for the domain "%s". See: https://amp.dev/documentation/guides-and-tutorials/learn/experimental',n,a?"enabled":"disabled",t.location.hostname)}}(i,r,!!e),i.__AMP_EXPERIMENT_BRANCHES[r]=e)}))})).catch((function(t){C().expectedError(li,"Player does not support `playerExperiments` message",t)}))},e.$st=function(t){var n=this,i=this.eA.get(On.CURRENT_PAGE_ID);t.registerLoadCallback((function(){return n.Kst.maybeInsertPageAfter(i,t).then((function(){return n.Qst(t)}))}))},e.Qst=function(t){var n=t.getPageElement();n.setAttribute("distance","1"),function(t,n,i){var r=ln(t,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0);n.dispatchEvent(r)}(this.win,n,"ampstory:switchpage",{"targetPageId":"i-amphtml-ad-page-1","direction":"next"},{bubbles:!0})},e.Zst=function(){var t=this;return new ci(this.element,this.win).getConfig().then((function(n){return t.DC=n,"custom"===n.type&&Ot(t.win).installExtensionForDoc(t.element.getAmpDoc(),"amp-mustache","latest"),n}))},e.Fst=function(){return!!this.eA.get(On.CAN_INSERT_AUTOMATIC_AD)},e.uA=function(){var t=this;this.eA.subscribe(On.AD_STATE,(function(n){t.JM(n)})),this.eA.subscribe(On.RTL_STATE,(function(n){t.Z_(n)}),!0),this.eA.subscribe(On.UI_STATE,(function(n){t.RA(n)}),!0),this.eA.subscribe(On.CURRENT_PAGE_ID,(function(n){var i=t.eA.get(On.CURRENT_PAGE_INDEX);t.tut(i,n)}))},e.JM=function(t){var n=this;this.mutateElement((function(){t?n.Wst.setAttribute(pi,""):n.Wst.removeAttribute(pi)}))},e.Z_=function(t){var n=this;this.mutateElement((function(){t?n.Wst.setAttribute("dir","rtl"):n.Wst.removeAttribute("dir")}))},e.RA=function(t){var n=this;this.mutateElement((function(){var i="desktop-fullbleed",r="desktop-one-panel";n.Wst.removeAttribute(i),n.Wst.removeAttribute(r),2===t&&n.Wst.setAttribute(i,""),4===t&&n.Wst.setAttribute(r,"")}))},e.qst=function(){var t=this.tp.createElement("div");t.className="i-amphtml-ad-overlay-host",this.Wst=this.tp.createElement("aside"),this.Wst.className="i-amphtml-ad-overlay-container";var n=this.tp.createElement("div");n.className="i-amphtml-story-ad-badge",this.Wst.appendChild(n),Gn(t,this.Wst,'.i-amphtml-ad-overlay-container{-ms-flex-align:center!important;align-items:center!important;display:-ms-flexbox!important;display:flex!important;height:48px!important;left:0!important;-ms-flex-pack:center!important;justify-content:center!important;pointer-events:none!important;position:absolute!important;top:0!important;width:48px!important;z-index:100001!important}.i-amphtml-ad-overlay-container[dir=rtl]{left:auto!important;right:0!important}.i-amphtml-ad-overlay-container[desktop-fullbleed]{left:calc(50vw - 22.5vh)!important;top:12.5vh!important}.i-amphtml-story-ad-badge-svg{top:50%!important;left:50%!important;position:relative!important;transform:translate(-50%,-50%)!important}.i-amphtml-story-ad-badge{opacity:0!important;width:29px!important;height:20px!important;background:no-repeat 50% url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="29" height="20" fill="none"><path fill="%23fff" d="M9.05 5.2h2.02l3.5 9.3h-1.94l-.78-2.22H8.28L7.5 14.5H5.57l3.48-9.3zm2.22 5.46-1.21-3.45-1.22 3.45h2.43zm5.33 3.61c-2.09-1.4-2.1-4.76 0-6.15 1.15-.69 2.85-.64 3.64.56V5.19h1.68v9.31h-1.58v-.8c-.73 1.22-2.66 1.2-3.74.57zm1.93-1.13c1.07 0 1.8-.94 1.8-1.96s-.75-1.93-1.8-1.93c-1.06 0-1.8.93-1.8 1.94 0 1 .75 1.95 1.8 1.95z"/></svg>\'),#0003;border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);visibility:hidden!important}[dir=rtl] .i-amphtml-story-ad-badge{margin-left:0px!important;margin-right:16px!important}[ad-showing] .i-amphtml-story-ad-badge{visibility:visible!important;opacity:1!important}.i-amphtml-ad-overlay-container[desktop-one-panel]{top:var(--i-amphtml-story-desktop-one-panel-responsive-margin)!important;left:calc(50vw - var(--i-amphtml-story-desktop-one-panel-width)/2)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-ad-badge.css*/'),this.EI.element.appendChild(t)},e.yN=function(){var t=this.Yst.initializePages();this.nut(M(t[0]))},e.nut=function(t){this.element.hasAttribute("development")&&"fake"===this.DC.type&&this.$st(t)},e.tut=function(t,n){0!==this.Kst.numberOfAdsCreated()&&(this.Kst.hasId(n)||this.Yst.onPageChange(n),this.Vst&&this.iut(),this.Kst.hasId(n)&&this.rut(t,n))},e.iut=function(){var t,n=this.Vst.getId(),i=this.Kst.getIndexById(n);this.eut(),this.w2("story-ad-exit",(p(t={},"exitTime",Date.now()),p(t,nn,i),t))},e.rut=function(t,n){var i,r=this.Kst.getAdPageById(n),e=this.Kst.getIndexById(n);r.hasBeenViewed()||this.Yst.onNewAdView(t),this.aut(r),this.w2("story-ad-view",(p(i={},"viewTime",Date.now()),p(i,nn,e),i))},e.aut=function(t){var n=this;this.mutateElement((function(){t.toggleVisibility(),n.Vst=t}))},e.eut=function(){var t=this;this.mutateElement((function(){t.Vst&&(t.Vst.toggleVisibility(),t.Vst=null)}))},e.w2=function(t,n){var i=this;this.hU.then((function(r){return r.fireEvent(i.element,n.adIndex,t,n)}))},i}(t.BaseElement);t.registerElement("amp-story-auto-ads",vi,".i-amphtml-story-desktop-fullbleed .i-amphtml-cta-container{bottom:12.5vh!important;top:67.5%!important}.i-amphtml-glass-pane{height:100%!important;width:100%!important;z-index:1!important}amp-story-page[xdomain-ad] .i-amphtml-glass-pane{height:80%!important}amp-story-page amp-ad iframe{width:100%;height:100%}amp-story-page amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl],amp-story-page amp-ad[type=adsense]{top:0!important;left:0!important;transform:translate(0)!important}.i-amphtml-story-desktop-fullbleed amp-story-grid-layer[template=fill]>amp-ad{left:50%!important;right:auto!important;margin:auto!important;min-height:75vh!important;max-height:75vh!important;min-width:45vh!important;max-width:45vh!important;transform:translateX(-50%)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads.css*/.i-amphtml-story-ad-link-root{all:initial!important;color:initial!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-shared.css*/"),t.registerServiceForDoc(tn,rn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-auto-ads-0.1.js.map